{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./shell/source/Tracelib.js","webpack:///./tracelib/trace.js","webpack:///./node_modules/process/browser.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","_tracelib_trace_js__WEBPACK_IMPORTED_MODULE_0__","window","Tracing","process","events","pid","now","document","performance","hrtime","flowId","parseInfo","info","toTraceInfo","streamingCallbacks","pushEvent","event","tid","args","ov","cat","length","push","Promise","resolve","then","callback","predicate","init","result","wait","async","v","start","this","end","step","addArgs","endWith","startSyncTrace","begin","extraArgs","assign","endInfo","flow","endTs","ph","ts","dur","overview","id","seq","sequence","beginTs","wrap","fn","enabled","trace","baseInfo","[object Object]","flowExisted","started","startInfo","bp","stepInfo","save","traceEvents","download","a","createElement","href","btoa","JSON","stringify","click","stream","__clearForTests","enable","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","setTimeout","e","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","concat","drainQueue","timeout","len","run","marker","runClearTimeout","Item","array","noop","nextTick","Array","arguments","apply","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask"],"mappings":"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","file":"shell/build/Tracelib.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","/**\n * @license\n * Copyright (c) 2017 Google Inc. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * Code distributed by Google as part of this project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {Tracing} from '../../tracelib/trace.js';\n\nwindow.Tracing = Tracing;\n","/*\n  Copyright 2015 Google Inc. All Rights Reserved.\n  Licensed under the Apache License, Version 2.0 (the \"License\");\n  you may not use this file except in compliance with the License.\n  You may obtain a copy of the License at\n      http://www.apache.org/licenses/LICENSE-2.0\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an \"AS IS\" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n*/\n\nconst events = [];\nlet pid;\nlet now;\nif (typeof document == 'object') {\n  pid = 42;\n  now = function() {\n    return performance.now() * 1000;\n  };\n} else {\n  pid = process.pid;\n  now = function() {\n    const t = process.hrtime();\n    return t[0] * 1000000 + t[1] / 1000;\n  };\n}\n\nlet flowId = 0;\n\nfunction parseInfo(info) {\n  if (!info) {\n    return {};\n  }\n  if (typeof info == 'function') {\n    return parseInfo(info());\n  }\n  if (info.toTraceInfo) {\n    return parseInfo(info.toTraceInfo());\n  }\n  return info;\n}\n\nconst streamingCallbacks = [];\nfunction pushEvent(event) {\n    event.pid = pid;\n    event.tid = 0;\n    if (!event.args) {\n      delete event.args;\n    }\n    if (!event.ov) {\n      delete event.ov;\n    }\n    if (!event.cat) {\n      event.cat = '';\n    }\n    // Only keep events in memory if we're not streaming them.\n    if (streamingCallbacks.length === 0) events.push(event);\n    Promise.resolve().then(() => {\n      for (const {callback, predicate} of streamingCallbacks) {\n          if (!predicate || predicate(event)) callback(event);\n      }\n    });\n}\n\nconst module = {exports: {}};\nexport const Tracing = module.exports;\nmodule.exports.enabled = false;\nmodule.exports.enable = function() {\n  module.exports.enabled = true;\n  init();\n};\n\n// TODO: Add back support for options.\n//module.exports.options = options;\n//var enabled = Boolean(options.traceFile);\n\nfunction init() {\n  const result = {\n    wait: async function(v) {\n      return v;\n    },\n    start: function() {\n      return this;\n    },\n    end: function() {\n      return this;\n    },\n    step: function() {\n      return this;\n    },\n    addArgs: function() {\n    },\n    endWith: async function(v) {\n      return v;\n    },\n  };\n  module.exports.wrap = function(info, fn) {\n    return fn;\n  };\n  module.exports.start = function(info, fn) {\n    return result;\n  };\n  module.exports.flow = function(info, fn) {\n    return result;\n  };\n\n  if (!module.exports.enabled) {\n    return;\n  }\n\n  module.exports.wrap = function(info, fn) {\n    return function(...args) {\n      const t = module.exports.start(info);\n      try {\n        return fn(...args);\n      } finally {\n        t.end();\n      }\n    };\n  };\n\n  function startSyncTrace(info) {\n    info = parseInfo(info);\n    let args = info.args;\n    const begin = now();\n    return {\n      addArgs: function(extraArgs) {\n        args = Object.assign(args || {}, extraArgs);\n      },\n      end: function(endInfo = {}, flow) {\n        endInfo = parseInfo(endInfo);\n        if (endInfo.args) {\n          args = Object.assign(args || {}, endInfo.args);\n        }\n        endInfo = Object.assign({}, info, endInfo);\n        this.endTs = now();\n        pushEvent({\n          ph: 'X',\n          ts: begin,\n          dur: this.endTs - begin,\n          cat: endInfo.cat,\n          name: endInfo.name,\n          ov: endInfo.overview,\n          args: args,\n          // Arcs Devtools Specific:\n          flowId: flow && flow.id(),\n          seq: endInfo.sequence\n        });\n      },\n      beginTs: begin\n    };\n  }\n  module.exports.start = function(info) {\n    let trace = startSyncTrace(info);\n    let flow;\n    const baseInfo = {cat: info.cat, name: info.name + ' (async)', overview: info.overview, sequence: info.sequence};\n    return {\n      async wait(v, info) {\n        const flowExisted = !!flow;\n        if (!flowExisted) {\n          flow = module.exports.flow(baseInfo);\n        }\n        trace.end(info, flow);\n        if (flowExisted) {\n          flow.step(Object.assign({ts: trace.beginTs}, baseInfo));\n        } else {\n          flow.start({ts: trace.endTs});\n        }\n        trace = null;\n        try {\n          return await v;\n        } finally {\n          trace = startSyncTrace(baseInfo);\n        }\n      },\n      addArgs(extraArgs) {\n        trace.addArgs(extraArgs);\n      },\n      end(endInfo) {\n        trace.end(endInfo, flow);\n        if (flow) {\n          flow.end({ts: trace.beginTs});\n        }\n      },\n      async endWith(v, endInfo) {\n        if (Promise.resolve(v) === v) { // If v is a promise.\n          v = this.wait(v);\n          try {\n            return await v;\n          } finally {\n            this.end(endInfo);\n          }\n        } else { // If v is not a promise.\n          this.end(endInfo);\n          return v;\n        }\n      }\n    };\n  };\n  module.exports.flow = function(info) {\n    info = parseInfo(info);\n    const id = flowId++;\n    let started = false;\n    return {\n      start: function(startInfo) {\n        const ts = (startInfo && startInfo.ts) || now();\n        started = true;\n        pushEvent({\n          ph: 's',\n          ts,\n          cat: info.cat,\n          name: info.name,\n          ov: info.overview,\n          args: info.args,\n          id: id,\n          seq: info.sequence\n        });\n        return this;\n      },\n      end: function(endInfo) {\n        if (!started) return;\n        const ts = (endInfo && endInfo.ts) || now();\n        endInfo = parseInfo(endInfo);\n        pushEvent({\n          ph: 'f',\n          bp: 'e', // binding point is enclosing slice.\n          ts,\n          cat: info.cat,\n          name: info.name,\n          ov: info.overview,\n          args: endInfo && endInfo.args,\n          id: id,\n          seq: info.sequence\n        });\n        return this;\n      },\n      step: function(stepInfo) {\n        if (!started) return;\n        const ts = (stepInfo && stepInfo.ts) || now();\n        stepInfo = parseInfo(stepInfo);\n        pushEvent({\n          ph: 't',\n          ts,\n          cat: info.cat,\n          name: info.name,\n          ov: info.overview,\n          args: stepInfo && stepInfo.args,\n          id: id,\n          seq: info.sequence\n        });\n        return this;\n      },\n      id: () => id\n    };\n  };\n  module.exports.save = function() {\n    return {traceEvents: events};\n  };\n  module.exports.download = function() {\n    const a = document.createElement('a');\n    a.download = 'trace.json';\n    a.href = 'data:text/plain;base64,' + btoa(JSON.stringify(module.exports.save()));\n    a.click();\n  };\n  module.exports.now = now;\n  module.exports.stream = function(callback, predicate) {\n    // Once we start streaming we no longer keep events in memory.\n    events.length = 0;\n    streamingCallbacks.push({callback, predicate});\n  };\n  module.exports.__clearForTests = function() {\n    events.length = 0;\n    streamingCallbacks.length = 0;\n  };\n}\n\ninit();\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n"],"sourceRoot":""}